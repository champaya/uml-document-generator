# コンポーネント設計書

## 1. コンポーネント概要
- **コンポーネント名**: App
- **概要**: 
  - TODOアプリケーションのメインコンポーネントで、チケットの作成、表示、フィルタリング、ダークモードの切り替え機能を提供します。

## 2. Props定義
| 名前 | 型 | 説明 |
|------|-----|------|
| なし | なし | このコンポーネントはPropsを受け取らない。 |

## 3. Reactive State定義
| 名前 | 型 | 説明 |
|------|-----|------|
| tickets | TicketData[] | APIから取得したチケットのリスト。 |
| loading | boolean | データがロード中かどうかを示すフラグ。 |
| error | string | エラーメッセージ。 |
| filterStatus | string | チケットのフィルタリングに使用するステータス。 |
| filterPriority | string | チケットのフィルタリングに使用する優先度。 |
| searchTerm | string | チケットの検索に使用するキーワード。 |
| isCreating | boolean | チケット作成フォームの表示状態。 |
| newTicket | { title: string; description: string; priority: 'low' | 'medium' | 'high' } | 新しいチケットのデータ。 |
| selectedTicket | TicketData | 選択されたチケットのデータ。 |
| isDarkMode | boolean | ダークモードの状態。 |

## 4. メソッド / 関数
### getTickets
- **概要**: APIからチケットを取得する非同期関数。
- **引数**: なし
- **戻り値**: なし

### handleStatusChange
- **概要**: チケットのステータスを更新するハンドラー。
- **引数**:
  - `id`: number - 更新するチケットのID。
  - `status`: 'todo' | 'in-progress' | 'done' - 新しいステータス。
- **戻り値**: なし

### handleDelete
- **概要**: チケットを削除するハンドラー。
- **引数**:
  - `id`: number - 削除するチケットのID。
- **戻り値**: なし

### handleCreate
- **概要**: 新しいチケットを作成するハンドラー。
- **引数**: なし
- **戻り値**: なし

### toggleDarkMode
- **概要**: ダークモードの状態を切り替える関数。
- **引数**: なし
- **戻り値**: なし

## 5. ライフサイクルフック
- **onMounted**:
  - **目的**: コンポーネントがマウントされた後にチケットを取得する処理を実行します。

## 6. イベントハンドラ
| イベント名 | ハンドラ名 | 説明 |
|------------|------------|------|
| onClick | handleCreate | チケット作成ボタンのクリック時の処理 |
| onClick | handleDelete | チケット削除ボタンのクリック時の処理 |
| onClick | handleStatusChange | チケットのステータス変更時の処理 |
| onClick | toggleDarkMode | ダークモード切り替えボタンのクリック時の処理 |

## 7. コンポジションロジック
- **setup関数**:
  - **概要**: コンポーネントの状態やメソッドを定義し、返却します。
  - **返却値**: テンプレートで使用する変数や関数を返却します。

## 8. レンダリング
初期処理について詳細に記述します。
1. onMountedフック内でAPIリクエストを送信し、チケットを取得します。
2. レスポンスが成功した場合、取得したデータをReactive Stateに保存します。
3. もしレスポンスが失敗した場合、エラーメッセージを表示します。
4. フィルタリングや検索機能を使用して、表示するチケットを動的に更新します。

## 9. 使用ライブラリ / モジュール
- **Vue**: コンポーネントの作成と状態管理のため。
- **APIサービス**: チケットの取得、更新、削除、作成のためのAPI呼び出しを行う。